!function(t){t.fn.extend({jdqSlider:function(e){var i={el:".img",speed:500,switchBtn:!0,numBtn:!0,eventMode:"",auto:!0,loop:!0,pause:2e3,width:400,height:""},n=t.extend({},i,e);this.each(function(){function e(){a==d&&(t(n.el).css({left:0}),a=1),-1==a&&(t(n.el).css({left:-(d-1)*n.width}),a=d-2),t(n.el).stop().animate({left:-a*n.width},n.speed),a==d-1&&n.numBtn?t(n.el).siblings(".imgbtn").find("li").eq(0).addClass("active").siblings().removeClass("active"):t(n.el).siblings(".imgbtn").find("li").eq(a).addClass("active").siblings().removeClass("active")}var i=t(this),s=i.find("img"),a=0,l=n.width*(s.length+1),o=(t(n.el).find("li").length,t(n.el).find("li").first().css({width:n.width,float:"left"}).clone()),d=t(n.el).find("li").size(),r=[],c=new function(){this.imgNum=function(t){return'<ul class="imgbtn" style="position:absolute;left:50%;bottom:40px;z-index:2;" >'+t+"</ul>"},this.btn='<div class="btn btn_l">&lt;</div><div class="btn btn_r">&gt;</div>'};n.loop&&(t(n.el).append(o),d=t(n.el).find("li").size()),n.switchBtn&&(t(c.btn).appendTo(this),t(".btn_l").on("click",function(t){t.stopPropagation(),a++,e()}),t(".btn_r").on("click",function(t){t.stopPropagation(),a--,e()})),i.css("width",n.width);for(var f=0;f<s.length;f++){var h=0==f?'<li class="active" style="cursor: pointer"></li>':'<li style="cursor: pointer"></li>';t(n.el).width(l),s.parent().css({float:"left",width:n.width,height:""==n.height?t(n.el).find("img").height():n.height}),r.push(h)}if(n.numBtn){t(this).append(t(c.imgNum(r.join(""))));var u=t(".imgbtn").width()/2,p=i.find(".imgbtn").find("li");t(".imgbtn").css("margin-left",-u+"px"),p.on("click",function(e){e.stopPropagation();var i=t(this).index();a=i,t(n.el).stop().animate({left:-i*n.width},n.speed),t(this).addClass("active").siblings().removeClass("active")})}if(n.auto){var m=setInterval(function(){a++,e()},n.pause);t(this).hover(function(){clearInterval(m)},function(){m=setInterval(function(){a++,e()},2e3)})}})},jdqLayer:function(e){var i={title:"这里填写一个标题",type:"tips",width:"400",height:"200",msg:"默认是tips类型框",closeBtn:!0,bgframe:!0,btnSureText:"确认",btnCancelText:"取消",quitTime:"1500",url:"",clickSure:function(){},clickCancel:function(){}},n=t.extend({},i,e),s={},a={alert:function(){var e='<div class="jdq-alert-layer jdq-slide-down open"><div class="jdq-module">';n.closeBtn&&(e+='<a href="javascript:;" class="jdq-icon-close"></a>'),""!=n.title&&(e+='<h2 class="alert_title">'+n.title+"</h2>"),""!=n.msg&&(e+='<div class="jdq-alert-msg">'+n.msg+"</div>"),e+='<div id="btnbox"><button class="jdq-sure-btn sure">'+n.btnSureText+"</button></div></div></div>",t(".jdq-alert-layer.open").remove(),t("body").append(e);var i=t("body").find(".jdq-alert-layer");i.css({marginLeft:-i.width()/2,marginTop:-i.outerHeight()/2}),t("body").unbind().delegate("#btnbox button","click",function(){l.closeFrame(t(this))})},confirm:function(){var e='<div class="jdq-alert-layer jdq-slide-down open"><div class="jdq-module">';n.closeBtn&&(e+='<a href="javascript:;" class="jdq-icon-close"></a>'),""!=n.title&&(e+='<h2 class="alert_title">'+n.title+"</h2>"),""!=n.msg&&(e+='<div class="jdq-alert-msg">'+n.msg+"</div>"),e+='<div id="btnbox"><button  class="jdq-sure-btn sure w50">'+n.btnSureText+'</button><button class="jdq-cancel-btn cancel w50">'+n.btnCancelText+"</button></div></div></div>",t(".jdq-alert-layer.open").remove(),t("body").append(e);var i=t("body").find(".jdq-alert-layer");i.css({marginLeft:-i.width()/2,marginTop:-i.outerHeight()/2}),t("body").unbind().delegate("#btnbox button","click",function(){return t(this).hasClass("sure")?(l.closeFrame(t(this)),!1):t(this).hasClass("cancel")?(l.closeFrame(t(this)),!1):void 0})},tips:function(e){var i=e.offset().top,a=e.offset().left;e.outerHeight();if(s.tipsMsg="<div class='tips tips_cartoon' style='top:"+(i-40)+"px; left:"+a+"px;'>"+n.msg+"</div>",str=JSON.stringify(s),txtMsg=JSON.parse(str),s){t(".tips").remove();e.parents("body").append(txtMsg.tipsMsg);e.parents("body").find(".tips").stop().delay(n.quitTime).animate({opacity:0},300,function(){t(this).remove()})}},iframe:function(e){var i='<div class="jdq-iframe-layer jdq-slide-down open"><div class="jdq-module" style="width:'+n.width+"px;height:"+n.height+'px;">';n.closeBtn&&(i+='<a href="javascript:;" class="jdq-icon-close"></a>'),""!=n.title&&(i+='<h2 class="alert_title">'+n.title+"</h2>"),""!=n.msg&&(i+='<div class="jdq-iframe-page"><iframe src="'+n.url+'" width="100%" frameborder="no" border="0" marginwidth="0" marginheight="0" allowtransparency="yes" scrolling="auto"></iframe></div>'),t(".jdq-alert-layer.open").remove(),t("body").append(i);var s=n.height-t(".alert_title").outerHeight(),a=t("body").find(".jdq-iframe-layer");t(".jdq-iframe-page").find("iframe").height(s),a.css({marginLeft:-a.width()/2,marginTop:-a.outerHeight()/2})}},l={closeFrame:function(e){e.parents(".open").animate({top:"45%",opacity:0},500,function(){t(this).remove(),t(".jdq-layer-bg").fadeOut(200,function(){t(this).remove(),e.hasClass("sure")&&n.clickSure(),e.hasClass("cancel")&&n.clickCancel()})})}};this.each(function(){var e=t(this);switch(n.type){case"alert":a.alert(e);break;case"confirm":a.confirm(e);break;case"tips":a.tips(e);break;case"iframe":a.iframe(e)}if(n.bgframe&&"tips"!=n.type){t("body").append('<div class="jdq-layer-bg"></div>'),t(".jdq-layer-bg").unbind().bind("click",function(){t(this).siblings(".open").animate({top:"45%",opacity:0},500,function(){t(this).remove(),t(".jdq-layer-bg").fadeOut(200,function(){t(this).remove()})})})}n.closeBtn&&t(document).unbind().delegate(".jdq-icon-close","click",function(){l.closeFrame(t(this))})})}})}(jQuery);