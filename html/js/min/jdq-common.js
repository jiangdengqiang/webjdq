!function(t){t.fn.extend({jdqSlider:function(i){var e={el:".img",speed:500,switchBtn:!0,numBtn:!0,eventMode:"",auto:!0,loop:!0,pause:2e3,width:400,height:""},n=t.extend({},e,i);this.each(function(){function i(){a==c&&(t(n.el).css({left:0}),a=1),-1==a&&(t(n.el).css({left:-(c-1)*n.width}),a=c-2),t(n.el).stop().animate({left:-a*n.width},n.speed),a==c-1&&n.numBtn?t(n.el).siblings(".imgbtn").find("li").eq(0).addClass("active").siblings().removeClass("active"):t(n.el).siblings(".imgbtn").find("li").eq(a).addClass("active").siblings().removeClass("active")}var e=t(this),s=e.find("img"),a=0,l=n.width*(s.length+1),o=(t(n.el).find("li").length,t(n.el).find("li").first().css({width:n.width,float:"left"}).clone()),c=t(n.el).find("li").size(),d=[],r=new function(){this.imgNum=function(t){return'<ul class="imgbtn" style="position:absolute;left:50%;bottom:40px;z-index:2;" >'+t+"</ul>"},this.btn='<div class="btn btn_l">&lt;</div><div class="btn btn_r">&gt;</div>'};n.loop&&(t(n.el).append(o),c=t(n.el).find("li").size()),n.switchBtn&&(t(r.btn).appendTo(this),t(".btn_l").on("click",function(t){t.stopPropagation(),a++,i()}),t(".btn_r").on("click",function(t){t.stopPropagation(),a--,i()})),e.css("width",n.width);for(var f=0;f<s.length;f++){var u=0==f?'<li class="active" style="cursor: pointer"></li>':'<li style="cursor: pointer"></li>';t(n.el).width(l),s.parent().css({float:"left",width:n.width,height:""==n.height?t(n.el).find("img").height():n.height}),d.push(u)}if(n.numBtn){t(this).append(t(r.imgNum(d.join(""))));var p=t(".imgbtn").width()/2,h=e.find(".imgbtn").find("li");t(".imgbtn").css("margin-left",-p+"px"),h.on("click",function(i){i.stopPropagation();var e=t(this).index();a=e,t(n.el).stop().animate({left:-e*n.width},n.speed),t(this).addClass("active").siblings().removeClass("active")})}if(n.auto){var v=setInterval(function(){a++,i()},n.pause);t(this).hover(function(){clearInterval(v)},function(){v=setInterval(function(){a++,i()},2e3)})}})},jdqLayer:function(i){var e={title:"这里填写一个标题",type:"tips",width:"300",height:"200",msg:"默认是tips类型框",closeBtn:!1,bgframe:!1,quitTime:"1500",clickSure:function(){},clickCancel:function(){}},n=t.extend({},e,i),s={},a={alert:function(){var i='<div class="jdq-alert-layer jdq-slide-down open"><div class="jdq-module">';n.closeBtn&&(i+='<a href="javascript:;" class="jdq-icon-close"></a>'),""!=n.title&&(i+='<h2 class="alert_title">'+n.title+"</h2>"),""!=n.msg&&(i+='<div class="jdq-alert-msg">'+n.msg+"</div>"),i+='<div id="btnbox"><button class="jdq-sure-btn sure">确定</button></div></div></div>',t(".jdq-alert-layer.open").remove(),t("body").append(i);var e=t("body").find(".jdq-alert-layer");e.css({marginLeft:-e.width()/2,marginTop:-e.outerHeight()/2}),t("body").unbind().delegate("#btnbox button","click",function(){l.sure(t(this))})},confirm:function(){var i='<div class="jdq-alert-layer jdq-slide-down open"><div class="jdq-module">';n.closeBtn&&(i+='<a href="javascript:;" class="jdq-icon-close"></a>'),""!=n.title&&(i+='<h2 class="alert_title">'+n.title+"</h2>"),""!=n.msg&&(i+='<div class="jdq-alert-msg">'+n.msg+"</div>"),i+='<div id="btnbox"><button  class="jdq-sure-btn sure w50">确定</button><button class="jdq-cancel-btn cancel w50">取消</button></div></div></div>',t(".jdq-alert-layer.open").remove(),t("body").append(i);var e=t("body").find(".jdq-alert-layer");e.css({marginLeft:-e.width()/2,marginTop:-e.outerHeight()/2}),t("body").unbind().delegate("#btnbox button","click",function(){return t(this).hasClass("sure")?(l.sure(t(this)),!1):t(this).hasClass("cancel")?(l.cancel(t(this)),!1):void 0})},tips:function(i){var e=i.offset().top,a=i.offset().left;i.outerHeight();if(s.tipsMsg="<div class='tips tips_cartoon' style='top:"+(e-40)+"px; left:"+a+"px;'>"+n.msg+"</div>",str=JSON.stringify(s),txtMsg=JSON.parse(str),s){t(".tips").remove();i.parents("body").append(txtMsg.tipsMsg);i.parents("body").find(".tips").stop().delay(n.quitTime).animate({opacity:0},300,function(){t(this).remove()})}},iframe:function(t){alert("该功能正在研发阶段！请耐心等待！")}},l={sure:function(i){i.parents(".open").animate({top:"45%",opacity:0},500,function(){t(this).remove(),t(".jdq-layer-bg").fadeOut(200,function(){t(this).remove(),i.hasClass("sure")&&n.clickSure()})})},cancel:function(t){}};this.each(function(){var i=t(this);switch(n.type){case"alert":a.alert(i);break;case"confirm":a.confirm(i);break;case"tips":a.tips(i);break;case"iframe":a.iframe(i)}if(n.bgframe&&"tips"!=n.type){t("body").append('<div class="jdq-layer-bg"></div>'),t(".jdq-layer-bg").unbind().bind("click",function(){t(this).siblings(".open").animate({top:"45%",opacity:0},500,function(){t(this).remove(),t(".jdq-layer-bg").fadeOut(200,function(){t(this).remove()})})})}n.closeBtn&&t(document).unbind().delegate(".jdq-icon-close","click",function(){t(this).parents(".open").animate({top:"45%",opacity:0},500,function(){t(this).remove(),t(".jdq-layer-bg").fadeOut(200,function(){t(this).remove()})})})})}})}(jQuery);